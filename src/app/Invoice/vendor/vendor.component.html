<app-spinner [startSpinner]="spinner" *ngIf="spinner"></app-spinner>
<form [formGroup]="form">
  <div class="row">
    <div class="col-md-12">
      <div class="d-flex justify-content-between">
        <h5 class="formName col-md-4">{{ sharedService.formName }}</h5> 
        <div class="d-flex  col-md-8 justify-content-end">
            <div class="col-md-8">
                <div class="floating-input list-btn">
                  <select
                    class="form-control selectpicker show-tick dd_size select-width"
                    (change)="searchVendor()"
                    [(ngModel)]="search_vendor_id"
                    data-live-search="true"
                    id="search"
                    #search
                    title="Search Vendor"
                    [ngModelOptions]="{ standalone: true }"
                  >
                    <option
                      *ngFor="let opt of vendor_list; let i = index"
                      [selected]="opt.VENDOR_NO == search_vendor_id"
                      [value]="opt.VENDOR_NO"
                    >
                      {{ opt.VENDOR_NAME }}
                    </option>
                    <!-- <option *ngFor="let opt of vendor_list; let i=index"
                            [selected]="opt.VENDOR_TYPE == search_vendor_id"
                            [value]="opt.VENDOR_TYPE">{{ opt.VENDOR_TYPE_DESC }}</option> -->
                  </select>
                  <button
                    type="button"
                    class="close"
                    onclick="resetDropdown('search')"
                    (click)="search_vendor_id = ''; f_clearForm()"
                    aria-label="Close"
                  >
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
              </div>
          <button
            class="btn btn-secondary"
            title="Save"
            (click)="SaveVendor()"
          >
            Save
          </button>
          
        </div>
      </div>
    </div>
    <div class="col-md-12 mt-2">
      <div class="row card">
        <div class="col-md-4">
          <label>Vendor Type :</label>
          <div
            class="floating-input list-btn"
            [ngClass]="{
              'invalid-control':
                isSubmited && form.controls['VENDOR_TYPE'].errors?.required
            }"
          >
            <select
              class="form-control selectpicker show-tick"
              formControlName="VENDOR_TYPE"
              id="vendor_type"
              data-live-search="true"
              title="Select"
            >
              <option
                *ngFor="let opt of vendortype_list; let i = index"
                [selected]="
                  opt.VENDOR_TYPE == form.controls['VENDOR_TYPE'].value
                "
                [value]="opt.VENDOR_TYPE"
              >
                {{ opt.VENDOR_TYPE_DESC }}
              </option>
            </select>
            <button
              type="button"
              class="close"
              (click)="(form.controls['VENDOR_TYPE'].value)"
              onclick="resetDropdown('vendor_type')"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
        </div>
        <div class="col-md-4">
          <label>Vendor Code :</label>
          <div
            class="floating-input"
            [ngClass]="{
              'invalid-control':
                isSubmited && form.controls['VENDOR_NO'].errors?.required
            }"
          >
            <input
              type="text"
              formControlName="VENDOR_NO"
              InputType="AlphaNum"
              maxlength="10"
              class="form-control"
              placeholder="Vendor Code"
            />
          </div>
        </div>
        <div class="col-md-4">
          <label>Vendor GL :</label>
          <div
            class="floating-input"
            [ngClass]="{
              'invalid-control':
                isSubmited && form.controls['VENDOR_GL'].errors?.required
            }"
          >
            <input
              type="text"
              formControlName="VENDOR_GL"
              class="form-control"
              maxlength="5"
              OnlyNumber="true"
              placeholder="Vendor GL"
            />
          </div>
        </div>
      </div>
    </div>
    <div class="col-xl-8 col-lg-12 col-md-12 col-sm-12 pr-0 padd_right mt-2">
      <div class="row card">
        <div class="col-md-12">
          <label>Vendor Name :</label>
          <div
            class="floating-input"
            [ngClass]="{
              'invalid-control':
                isSubmited && form.controls['VENDOR_NAME'].errors?.required
            }"
          >
            <input
              type="text"
              formControlName="VENDOR_NAME"
              maxlength="100"
              InputType="AlphaSpace"
              Uppercase
              class="form-control"
              placeholder="Vendor Name"
            />
          </div>
        </div>
        <div class="col-md-12">
          <label>Address :</label>
          <div
            class="floating-input"
            [ngClass]="{
              'invalid-control':
                isSubmited && form.controls['VENDOR_ADDRESS1'].errors?.required
            }"
          >
            <textarea
              name=""
              id=""
              class="form-control"
              InputType="Address"
              maxlength="200"
              formControlName="VENDOR_ADDRESS1"
              rows="2"
              placeholder="Address"
            ></textarea>
          </div>
        </div>
        <div class="col-md-6">
          <label>City :</label>
          <div
            class="floating-input"
            [ngClass]="{
              'invalid-control':
                isSubmited && form.controls['VENDOR_CITY'].errors?.required
            }"
          >
            <input
              type="text"
              formControlName="VENDOR_CITY"
              InputType="AlphaSpace"
              maxlength="50"
              autocomplete="false"
              class="form-control"
              placeholder="City"
            />
          </div>
        </div>
        <div class="col-md-6">
          <label>PIN Code :</label>
          <div
            class="floating-input"
            [ngClass]="{
              'invalid-control':
                isSubmited && form.controls['VENDOR_PIN'].errors?.required
            }"
          >
            <input
              type="text"
              formControlName="VENDOR_PIN"
              class="form-control"
              placeholder="PIN Code"
              maxlength="20"
              autocomplete="false"
              OnlyNumber="true"
            />
          </div>
        </div>
        <div class="col-md-6">
          <label>Country :</label>
          <div
            class="floating-input list-btn"
            [ngClass]="{
              'invalid-control':
                isSubmited && form.controls['VENDOR_COUNTRY'].errors?.required
            }"
          >
            <select
              class="form-control selectpicker show-tick"
              (change)="filterState()"
              formControlName="VENDOR_COUNTRY"
              id="Country"
              data-live-search="true"
              title="Select"
            >
              <option
                *ngFor="let opt of country_list; let i = index"
                [selected]="
                  opt.COUNTRY_CODE == form.controls['VENDOR_COUNTRY'].value
                "
                [value]="opt.COUNTRY_CODE"
              >
                {{ opt.COUNTRY_NAME }}
              </option>
            </select>
            <button
              type="button"
              class="close"
              (click)="(form.controls['VENDOR_COUNTRY'].value)"
              onclick="resetDropdown('Country')"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
        </div>
        <div class="col-md-6">
          <label>State :</label>
          <div
            class="floating-input list-btn"
            [ngClass]="{
              'invalid-control':
                isSubmited && form.controls['VENDOR_STATE'].errors?.required
            }"
          >
            <select
              class="form-control selectpicker show-tick"
              formControlName="VENDOR_STATE"
              id="State"
              data-live-search="true"
              title="Select"
            >
              <option
                *ngFor="let opt of state_list; let i = index"
                [selected]="
                  opt.STATE_CODE == form.controls['VENDOR_STATE'].value
                "
                [value]="opt.STATE_CODE"
              >
                {{ opt.STATE_NAME }}
              </option>
            </select>
            <button
              type="button"
              class="close"
              (click)="(form.controls['VENDOR_STATE'].value)"
              onclick="resetDropdown('State')"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
        </div>
        <div class="col-md-6">
          <label>PAN No :</label>
          <div
            class="floating-input"
            [ngClass]="{
              'invalid-control':
                isSubmited && form.controls['VENDOR_PAN'].errors?.required
            }"
          >
            <input
              type="text"
              formControlName="VENDOR_PAN"
              class="form-control"
              InputType="AlphaNum"
              Uppercase
              maxlength="15"
              (focusout)="f_validatePAN()"
              id="panno"
              #panno
              placeholder="PAN No."
              autocomplete="false"
            />
          </div>
        </div>
        <div class="col-md-6">
          <label>GSTIN :</label>
          <div
            class="floating-input"
            [ngClass]="{
              'invalid-control':
                isSubmited && form.controls['VENDOR_GSTIN'].errors?.required
            }"
          >
            <input
              type="text"
              formControlName="VENDOR_GSTIN"
              class="form-control"
              InputType="AlphaNum"
              Uppercase
              placeholder="GSTIN"
              id="gstno"
              #gstno
              (focusout)="f_validateGSTNO()"
              maxlength="20"
              autocomplete="false"
            />
          </div>
        </div>
        <div class="col-md-8">
          <label>Email :</label>
          <div
            class="floating-input"
            [ngClass]="{
              'invalid-control':
                isSubmited && form.controls['VEND_EMAIL'].errors?.required
            }"
          >
            <input
              type="email"
              formControlName="VEND_EMAIL"
              maxlength="50"
              class="form-control"
              placeholder="Email"
              id="email"
              #email
              (focusout)="validateEmail()"
            />
          </div>
        </div>
        <div class="col-md-4">
          <label>Phone :</label>
          <div
            class="floating-input"
            [ngClass]="{
              'invalid-control':
                isSubmited && form.controls['VEND_PHONE'].errors?.required
            }"
          >
            <input
              type="text"
              formControlName="VEND_PHONE"
              OnlyNumber="true"
              maxlength="50"
              class="form-control"
              placeholder="Phone"
            />
          </div>
        </div>
        <div class="col-md-8">
          <label>Contact Person :</label>
          <div
            class="floating-input"
            [ngClass]="{
              'invalid-control':
                isSubmited && form.controls['VEND_CONTACT'].errors?.required
            }"
          >
            <input
              type="text"
              formControlName="VEND_CONTACT"
              InputType="AlphaSpace"
              maxlength="50"
              class="form-control"
              placeholder="Contact Person"
            />
          </div>
        </div>
      </div>
    </div>
    <div class="col-xl-4 col-lg-12 col-md-12 col-sm-12 mt-2">
      <div class="row card pb-5">
        <div class="col-xl-12 col-lg-4 col-md-4 col-sm-4">
          <label>Currency :</label>
          <div
            class="floating-input list-btn"
            [ngClass]="{
              'invalid-control':
                isSubmited && form.controls['VEND_CURRENCY'].errors?.required
            }"
          >
            <select
              class="form-control selectpicker show-tick"
              formControlName="VEND_CURRENCY"
              id="Currency"
              data-live-search="true"
              title="Select"
            >
              <option
                *ngFor="let opt of currency_list; let i = index"
                [selected]="
                  opt.CURRENCY_CODE == form.controls['VEND_CURRENCY'].value
                "
                [value]="opt.CURRENCY_CODE"
              >
                {{ opt.CURRENCY_NAME }}
              </option>
            </select>
            <button
              type="button"
              class="close"
              (click)="(form.controls['VEND_CURRENCY'].value)"
              onclick="resetDropdown('Currency')"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
        </div>
        <div class="col-xl-12 col-lg-4 col-md-4 col-sm-4">
          <label>Cr. Days :</label>
          <div
            class="floating-input"
            [ngClass]="{
              'invalid-control':
                isSubmited && form.controls['VEND_CREDITDAYS'].errors?.required
            }"
          >
            <input
              type="text"
              formControlName="VEND_CREDITDAYS"
              maxlength="5"
              class="form-control"
              placeholder="Cr. Days "
            />
          </div>
        </div>
        <div class="col-xl-12 col-lg-4 col-md-4 col-sm-4 mt-1">
          <label>PO Req. :</label>
          <div class="form-inline">
            <div class="form-group radios mr-3">
              <input
                id="yes"
                type="radio"
                formControlName="PO_REQD"
                name="PO_REQD"
                class="mr-2"
                value="1"
              />
              <label for="yes"><span class="span-txt">Yes </span></label>
            </div>
            <div class="form-group radios mr-3">
              <input
                id="no"
                type="radio"
                formControlName="PO_REQD"
                name="PO_REQD"
                class="mr-2"
                value="0"
              />
              <label for="no"><span class="span-txt">No </span></label>
            </div>
          </div>
        </div>
        <div class="col-xl-12 col-lg-4 col-md-4 col-sm-4 mt-1">
          <label>TDS Applicable :</label>
          <div class="form-inline">
            <div class="form-group radios mr-3">
              <input
                id="_yes"
                type="radio"
                formControlName="TDSAPPLICABLE"
                class="mr-2"
                name="TDSAPPLICABLE"
                value="1"
                (click)="onChangeType($event.target.value)"
              />
              <label for="_yes"><span class="span-txt">Yes </span></label>
            </div>
            <div class="form-group radios mr-3">
              <input
                id="_no"
                type="radio"
                formControlName="TDSAPPLICABLE"
                class="mr-2"
                name="TDSAPPLICABLE"
                value="0"
                (click)="onChangeType($event.target.value)"
              />
              <label for="_no"><span class="span-txt">No </span></label>
            </div>
          </div>
        </div>
        <div class="col-xl-12 col-lg-4 col-md-4 col-sm-4">
          <label>TDS Code :</label>
          <div
            class="floating-input list-btn"
            [ngClass]="{ textDisabled: textBoxDisabled == true }"
          >
            <select
              class="form-control selectpicker show-tick"
              formControlName="TDS_CODE"
              id="tds_code"
              data-live-search="true"
              title="Select"
            >
              <option
                *ngFor="let opt of tds_list; let i = index"
                [selected]="opt.TDS_CODE == form.controls['TDS_CODE'].value"
                [value]="opt.TDS_CODE"
              >
                {{ opt.TDS_NAME }}
              </option>
            </select>
            <button
              type="button"
              class="close"
              (click)="(form.controls['TDS_CODE'].value)"
              onclick="resetDropdown('tds_code')"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
        </div>
        <div class="col-xl-12 col-lg-4 col-md-4 col-sm-4">
          <div class="form-check pb-1">
            <input
              class="form-check-input"
              type="checkbox"
              formControlName="GST_CLASS"
              id="flexCheckDefault"
              (change)="isCheckModel = $event.target.checked ? 1 : 0"
              name="isCheckModel"
              [(ngModel)]="isCheckModel"
            />
            <label class="form-check-label" for="flexCheckDefault">
              GST Class
            </label>
          </div>
        </div>
        <div class="col-xl-12 col-lg-4 col-md-4 col-sm-4">
          <div class="form-check pb-1">
            <input
              class="form-check-input"
              type="checkbox"
              formControlName="ACTIVE"
              value="1"
              id="ACTIVE"
              (change)="isCheckActive = $event.target.checked ? 1 : 0"
              name="isCheckActive"
              [(ngModel)]="isCheckActive"
            />
            <label class="form-check-label" for="ACTIVE"> Active </label>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-12 mt-2">
      <div class="row card">
        <div class="col-md-4">
          <label>Bank :</label>
          <div
            class="floating-input"
            [ngClass]="{
              'invalid-control':
                isSubmited && form.controls['VENDOR_BANK'].errors?.required
            }"
          >
            <input
              type="text"
              formControlName="VENDOR_BANK"
              class="form-control"
              id="bank"
              data-live-search="true"
              placeholder="Bank Name"
            />
          </div>
          <!-- <div class="floating-input  list-btn"  [ngClass]="{'invalid-control':isSubmited && form.controls['VENDOR_BANK'].errors?.required}">
                        <select class="form-control selectpicker show-tick"   formControlName="VENDOR_BANK" id="bank"  data-live-search="true" title="Select">
                               <option *ngFor="let opt of bank_list; let i=index"
                                [selected]="opt.BANK_CODE == form.controls['VENDOR_BANK'].value"
                                 [value]="opt.BANK_CODE" >{{ opt.BANK_NAME }}</option>
                        </select>
                        <button type="button" class="close"  (click)="form.controls['VENDOR_BANK'].value" onclick="resetDropdown('bank')"  aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div> -->
        </div>
        <div class="col-md-4">
          <label>IFSC Code :</label>
          <div
            class="floating-input"
            [ngClass]="{
              'invalid-control':
                isSubmited && form.controls['VENDOR_IFSC'].errors?.required
            }"
          >
            <input
              type="text"
              formControlName="VENDOR_IFSC"
              maxlength="50"
              InputType="AlphaNum"
              Uppercase
              class="form-control"
              placeholder="IFSC Code"
            />
          </div>
        </div>
        <div class="col-md-4">
          <label>Account No :</label>
          <div
            class="floating-input"
            [ngClass]="{
              'invalid-control':
                isSubmited && form.controls['VENDOR_BANK_ACC'].errors?.required
            }"
          >
            <input
              type="text"
              formControlName="VENDOR_BANK_ACC"
              OnlyNumber="true"
              maxlength="50"
              class="form-control"
              placeholder="Account No"
            />
          </div>
        </div>
      </div>
    </div>
  </div>
</form>
